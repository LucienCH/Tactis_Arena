\hypertarget{border_8c}{}\section{src/border.c File Reference}
\label{border_8c}\index{src/border.\+c@{src/border.\+c}}


Functions related to zones and borders.  


{\ttfamily \#include \char`\"{}deplacement.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}struct.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}grid.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}gameplay.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}display.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}print.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}init.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{common_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{border_8c_aea436aaa242fdd2f7f059b132d1a6f22}{is\+In\+Range} (\hyperlink{struct_coord}{Coord} coor\+Tab\mbox{[}$\,$\mbox{]}, \hyperlink{struct_coord}{Coord} target)
\begin{DoxyCompactList}\small\item\em Checks if certain coordinates are in a zone. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} \hyperlink{border_8c_a215099be5af9a4be437d730a09fbff18}{normalize} (\hyperlink{struct_coord}{Coord} c)
\begin{DoxyCompactList}\small\item\em Normalizes coordinates back into the grid. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} $\ast$ \hyperlink{border_8c_a4fe2097198aae47b37bdbc718cbcd22e}{set\+Action\+Border} (\hyperlink{struct_coord}{Coord} start, int range, \hyperlink{struct_coord}{Coord} tab\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Creates an abilities\textquotesingle{} cast border. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} $\ast$ \hyperlink{border_8c_aa0bb4cc7b3e6df727a7d61b195591b6a}{set\+Action\+Zone} (int range, \hyperlink{struct_coord}{Coord} Border\mbox{[}$\,$\mbox{]}, \hyperlink{struct_coord}{Coord} Zone\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Creates an abilities\textquotesingle{} cast zone. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} $\ast$ \hyperlink{border_8c_a43eeb3d6654903b7795756eab2c42d90}{set\+Movement\+Border} (int matrice\mbox{[}\hyperlink{common_8h_af255265266c7bffd8e2b3526038636ea}{\+\_\+\+X\+\_\+\+S\+I\+Z\+E\+\_\+}\mbox{]}\mbox{[}\hyperlink{common_8h_aa319b11913fc00b38adf54ee0b56ae09}{\+\_\+\+Y\+\_\+\+S\+I\+Z\+E\+\_\+}\mbox{]}, \hyperlink{struct_coord}{Coord} tab\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Creates a movement range border. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} $\ast$ \hyperlink{border_8c_a6be30a3561918f7c020b03bff63b8a60}{set\+Movement\+Zone} (int matrice\mbox{[}\hyperlink{common_8h_af255265266c7bffd8e2b3526038636ea}{\+\_\+\+X\+\_\+\+S\+I\+Z\+E\+\_\+}\mbox{]}\mbox{[}\hyperlink{common_8h_aa319b11913fc00b38adf54ee0b56ae09}{\+\_\+\+Y\+\_\+\+S\+I\+Z\+E\+\_\+}\mbox{]}, \hyperlink{struct_coord}{Coord} tab\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Creates a movement range zone. \end{DoxyCompactList}\item 
\hyperlink{struct_coord}{Coord} $\ast$ \hyperlink{border_8c_a0a591566d7a60dc5dc19254a09694c5a}{get\+\_\+border} (int cha\+\_\+id, \hyperlink{substruct_8h_a474a755e4cfa53534567029009496507}{ability\+Id} Id, \hyperlink{struct_coord}{Coord} coor\+Tab\mbox{[}$\,$\mbox{]}, \hyperlink{struct_coord}{Coord} zone\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Get the zone and the border for a certain ability/movement. \end{DoxyCompactList}\item 
\hyperlink{common_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{border_8c_aa917967d25bca591dbd0f58dd14e3876}{Cast\+\_\+check} (\hyperlink{structaction}{action} a, \hyperlink{struct_coord}{Coord} coor\+Tab\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Checks if an ability can be cast. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions related to zones and borders. 

contains functions for verifying if an ability is casted in the correct zone as well as the creation of such zones and their borders \begin{DoxyAuthor}{Author}
Robin B\+U\+T\+EL, Louis L\+A\+F\+AY, Lucien C\+H\+A\+U\+V\+IN 
\end{DoxyAuthor}


\subsection{Function Documentation}
\mbox{\Hypertarget{border_8c_aa917967d25bca591dbd0f58dd14e3876}\label{border_8c_aa917967d25bca591dbd0f58dd14e3876}} 
\index{border.\+c@{border.\+c}!Cast\+\_\+check@{Cast\+\_\+check}}
\index{Cast\+\_\+check@{Cast\+\_\+check}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{Cast\+\_\+check()}{Cast\_check()}}
{\footnotesize\ttfamily Cast\+\_\+check (\begin{DoxyParamCaption}\item[{\hyperlink{structaction}{action}}]{a,  }\item[{\hyperlink{struct_coord}{Coord}}]{coor\+Tab\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Checks if an ability can be cast. 


\begin{DoxyParams}{Parameters}
{\em a} & the action cast \\
\hline
{\em coor\+Tab} & the castable zone border to use with is\+In\+Range to verify the chosen tile\\
\hline
\end{DoxyParams}
Checks if the selected coordinates are in the castable zone, as well as double checks if the character is not stopped, by status effects or cooldowns and such, from casting the ability \begin{DoxyReturn}{Returns}
T\+R\+UE if the ability can be cast, F\+A\+L\+SE otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_a0a591566d7a60dc5dc19254a09694c5a}\label{border_8c_a0a591566d7a60dc5dc19254a09694c5a}} 
\index{border.\+c@{border.\+c}!get\+\_\+border@{get\+\_\+border}}
\index{get\+\_\+border@{get\+\_\+border}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{get\+\_\+border()}{get\_border()}}
{\footnotesize\ttfamily get\+\_\+border (\begin{DoxyParamCaption}\item[{int}]{cha\+\_\+id,  }\item[{\hyperlink{substruct_8h_a474a755e4cfa53534567029009496507}{ability\+Id}}]{Id,  }\item[{\hyperlink{struct_coord}{Coord}}]{coor\+Tab\mbox{[}$\,$\mbox{]},  }\item[{\hyperlink{struct_coord}{Coord}}]{zone\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Get the zone and the border for a certain ability/movement. 

calls the corresponding functions to create the border and zone for the given ability 
\begin{DoxyParams}{Parameters}
{\em cha\+\_\+id} & the id of the entity who cast the ability, usefull for finding the starting coordinates \\
\hline
{\em Id} & the ability\+Id of the cast ability \\
\hline
{\em coor\+Tab} & an array in which to store the border \\
\hline
{\em zone} & an array in which to store the zone \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the zone (zone) 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_aea436aaa242fdd2f7f059b132d1a6f22}\label{border_8c_aea436aaa242fdd2f7f059b132d1a6f22}} 
\index{border.\+c@{border.\+c}!is\+In\+Range@{is\+In\+Range}}
\index{is\+In\+Range@{is\+In\+Range}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{is\+In\+Range()}{isInRange()}}
{\footnotesize\ttfamily is\+In\+Range (\begin{DoxyParamCaption}\item[{\hyperlink{struct_coord}{Coord}}]{coor\+Tab\mbox{[}$\,$\mbox{]},  }\item[{\hyperlink{struct_coord}{Coord}}]{target }\end{DoxyParamCaption})}



Checks if certain coordinates are in a zone. 

Draws a line from the edge of the grid through the point and then to the other side, depending on the number of times the zone\textquotesingle{}s border was crossed, that determines wether the coordinates are contained in the zone 
\begin{DoxyParams}{Parameters}
{\em coor\+Tab} & the border of the zone \\
\hline
{\em target} & the target coordinates \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE if the target is in range, F\+A\+L\+SE otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_a215099be5af9a4be437d730a09fbff18}\label{border_8c_a215099be5af9a4be437d730a09fbff18}} 
\index{border.\+c@{border.\+c}!normalize@{normalize}}
\index{normalize@{normalize}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{normalize()}{normalize()}}
{\footnotesize\ttfamily normalize (\begin{DoxyParamCaption}\item[{\hyperlink{struct_coord}{Coord}}]{c }\end{DoxyParamCaption})}



Normalizes coordinates back into the grid. 

checks if coordinates are out of the grid and normalizes back to the closest point in the grid 
\begin{DoxyParams}{Parameters}
{\em c} & the coordinate to normalize \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the normalized coord 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_a4fe2097198aae47b37bdbc718cbcd22e}\label{border_8c_a4fe2097198aae47b37bdbc718cbcd22e}} 
\index{border.\+c@{border.\+c}!set\+Action\+Border@{set\+Action\+Border}}
\index{set\+Action\+Border@{set\+Action\+Border}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{set\+Action\+Border()}{setActionBorder()}}
{\footnotesize\ttfamily set\+Action\+Border (\begin{DoxyParamCaption}\item[{\hyperlink{struct_coord}{Coord}}]{start,  }\item[{int}]{range,  }\item[{\hyperlink{struct_coord}{Coord}}]{tab\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Creates an abilities\textquotesingle{} cast border. 

uses ability range and caster\textquotesingle{}s vision to create a castable border in which that spell can be cast 
\begin{DoxyParams}{Parameters}
{\em start} & the caster\textquotesingle{}s coordinates \\
\hline
{\em range} & the result of the range function which uses the caster\textquotesingle{}s vision and the ability\textquotesingle{}s range to determine the castable range \\
\hline
{\em tab} & an array in which to store the border \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the border (tab) 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_aa0bb4cc7b3e6df727a7d61b195591b6a}\label{border_8c_aa0bb4cc7b3e6df727a7d61b195591b6a}} 
\index{border.\+c@{border.\+c}!set\+Action\+Zone@{set\+Action\+Zone}}
\index{set\+Action\+Zone@{set\+Action\+Zone}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{set\+Action\+Zone()}{setActionZone()}}
{\footnotesize\ttfamily set\+Action\+Zone (\begin{DoxyParamCaption}\item[{int}]{range,  }\item[{\hyperlink{struct_coord}{Coord}}]{Border\mbox{[}$\,$\mbox{]},  }\item[{\hyperlink{struct_coord}{Coord}}]{Zone\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Creates an abilities\textquotesingle{} cast zone. 

uses the border and the is\+In\+Range function to fill out the zone 
\begin{DoxyParams}{Parameters}
{\em range} & the result of the range function which uses the caster\textquotesingle{}s vision and the ability\textquotesingle{}s range to determine the castable range, used to determine if a zone is needed \\
\hline
{\em Border} & the border created by set\+Action\+Border \\
\hline
{\em Zone} & an array in which to store the zone \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the zone (Zone) 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_a43eeb3d6654903b7795756eab2c42d90}\label{border_8c_a43eeb3d6654903b7795756eab2c42d90}} 
\index{border.\+c@{border.\+c}!set\+Movement\+Border@{set\+Movement\+Border}}
\index{set\+Movement\+Border@{set\+Movement\+Border}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{set\+Movement\+Border()}{setMovementBorder()}}
{\footnotesize\ttfamily set\+Movement\+Border (\begin{DoxyParamCaption}\item[{int}]{matrice\mbox{[}\+\_\+\+X\+\_\+\+S\+I\+Z\+E\+\_\+\mbox{]}\mbox{[}\+\_\+\+Y\+\_\+\+S\+I\+Z\+E\+\_\+\mbox{]},  }\item[{\hyperlink{struct_coord}{Coord}}]{tab\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Creates a movement range border. 

uses a matrix returned by fill\+\_\+tiles to find the limits of the character\textquotesingle{}s movement range, creates a border by finding all coords adjacent to none walkable tiles 
\begin{DoxyParams}{Parameters}
{\em matrice} & the matrix returned by fill\+\_\+tiles \\
\hline
{\em tab} & an array in which to store the border \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the border (tab) 
\end{DoxyReturn}
\mbox{\Hypertarget{border_8c_a6be30a3561918f7c020b03bff63b8a60}\label{border_8c_a6be30a3561918f7c020b03bff63b8a60}} 
\index{border.\+c@{border.\+c}!set\+Movement\+Zone@{set\+Movement\+Zone}}
\index{set\+Movement\+Zone@{set\+Movement\+Zone}!border.\+c@{border.\+c}}
\subsubsection{\texorpdfstring{set\+Movement\+Zone()}{setMovementZone()}}
{\footnotesize\ttfamily set\+Movement\+Zone (\begin{DoxyParamCaption}\item[{int}]{matrice\mbox{[}\+\_\+\+X\+\_\+\+S\+I\+Z\+E\+\_\+\mbox{]}\mbox{[}\+\_\+\+Y\+\_\+\+S\+I\+Z\+E\+\_\+\mbox{]},  }\item[{\hyperlink{struct_coord}{Coord}}]{tab\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Creates a movement range zone. 

uses a matrix returned by fill\+\_\+tiles to find the limits of the character\textquotesingle{}s movement range, creates a zone by finding all walkeable coords 
\begin{DoxyParams}{Parameters}
{\em matrice} & the matrix returned by fill\+\_\+tiles \\
\hline
{\em tab} & an array in which to store the zone \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the zone (tab) 
\end{DoxyReturn}
